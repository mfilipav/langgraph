2025-04-15T15:31:26.481523Z [info     ] Will watch for changes in these directories: ['/Users/mfilipav/dev/langgraph/example-app'] [uvicorn.error] api_variant=local_dev thread_name=MainThread
2025-04-15T15:31:26.481693Z [info     ] Uvicorn running on http://127.0.0.1:2024 (Press CTRL+C to quit) [uvicorn.error] api_variant=local_dev color_message='Uvicorn running on \x1b[1m%s://%s:%d\x1b[0m (Press CTRL+C to quit)' thread_name=MainThread
2025-04-15T15:31:26.481869Z [info     ] Started reloader process [3004] using WatchFiles [uvicorn.error] api_variant=local_dev color_message='Started reloader process [\x1b[36m\x1b[1m3004\x1b[0m] using \x1b[36m\x1b[1mWatchFiles\x1b[0m' thread_name=MainThread
2025-04-15T15:31:26.762250Z [info     ] Using langgraph_runtime_inmem  [langgraph_runtime] api_variant=local_dev thread_name=MainThread
2025-04-15T15:31:26.765392Z [info     ] Using auth of type=noop        [langgraph_api.auth.middleware] api_variant=local_dev thread_name=MainThread
2025-04-15T15:31:26.766224Z [info     ] Started server process [3006]  [uvicorn.error] api_variant=local_dev color_message='Started server process [\x1b[36m%d\x1b[0m]' thread_name=MainThread
2025-04-15T15:31:26.766288Z [info     ] Waiting for application startup. [uvicorn.error] api_variant=local_dev thread_name=MainThread
2025-04-15T15:31:26.766513Z [info     ] Starting In-Memory runtime with langgraph-api=0.1.5 [langgraph_runtime_inmem.lifespan] api_variant=local_dev thread_name=asyncio_0 version=0.1.5
2025-04-15T15:31:27.025864Z [info     ] Registering graph with id 'agent' [langgraph_api.graph] api_variant=local_dev graph_id=agent thread_name=asyncio_0
2025-04-15T15:31:27.026647Z [info     ] Application startup complete.  [uvicorn.error] api_variant=local_dev thread_name=MainThread
2025-04-15T15:31:27.026688Z [warning  ] Heads up: You've set --allow-blocking, which allows synchronous blocking I/O operations. Be aware that blocking code in one run may tie up the shared event loop and slow down ALL other server operations. For best performance, either convert blocking code to async patterns or set BG_JOB_ISOLATED_LOOPS=true in production to isolate each run in its own event loop. [langgraph_runtime_inmem.queue] api_variant=local_dev thread_name=asyncio_0
2025-04-15T15:31:27.026928Z [info     ] Starting 1 background workers  [langgraph_runtime_inmem.queue] api_variant=local_dev thread_name=asyncio_0
2025-04-15T15:31:27.027046Z [info     ] Worker stats                   [langgraph_runtime_inmem.queue] active=0 api_variant=local_dev available=1 max=1 thread_name=asyncio_0                                                                                       2025-04-15T15:31:27.095421Z [info     ] GET /ok 200 0ms                [langgraph_api.server] api_variant=local_dev latency_ms=0 method=GET path=/ok path_params={} proto=1.1 query_string= req_header={'accept-encoding': 'identity', 'host': '127.0.0.1:2024', 'user-agent': 'Python-urllib/3.11', 'connection': 'close'} res_header={'content-length': '11', 'content-type': 'application/json'} route=None status=200 thread_name=MainThread                                                                                        Server started in 0.69s                                                                                                           2025-04-15T15:31:27.095687Z [info     ] Server started in 0.69s        [browser_opener] api_variant=local_dev message='Server started in 0.69s' thread_name='Thread-2 (_open_browser)'                                                                              ðŸŽ¨ Opening Studio in your browser...                                                                                              2025-04-15T15:31:27.095819Z [info     ] ðŸŽ¨ Opening Studio in your browser... [browser_opener] api_variant=local_dev message='ðŸŽ¨ Opening Studio in your browser...' thread_name='Thread-2 (_open_browser)'                                                           URL: https://smith.langchain.com/studio/?baseUrl=http://127.0.0.1:2024                                                            2025-04-15T15:31:27.095889Z [info     ] URL: https://smith.langchain.com/studio/?baseUrl=http://127.0.0.1:2024 [browser_opener] api_variant=local_dev message='URL: https://smith.langchain.com/studio/?baseUrl=http://127.0.0.1:2024' thread_name='Thread-2 (_open_browser)'                                                                                                                         2025-04-15T15:31:27.124517Z [info     ] 6 changes detected             [watchfiles.main] api_variant=local_dev thread_name=MainThread                                                                                                                               2025-04-15T15:31:27.528744Z [info     ] Queue stats                    [langgraph_runtime_inmem.queue] api_variant=local_dev max_age_secs=None med_age_secs=None n_pending=0 n_running=0 thread_name=asyncio_0                                                      2025-04-15T15:31:27.529945Z [info     ] Sweeped runs                   [langgraph_runtime_inmem.queue] api_variant=local_dev run_ids=[] thread_name=MainThread                                                                                                      2025-04-15T15:31:28.049563Z [info     ] GET /info 200 1ms              [langgraph_api.server] api_variant=local_dev latency_ms=1 method=GET path=/info path_params={} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '61', 'content-type': 'application/json'} route=None status=200 thread_name=MainThread
2025-04-15T15:31:28.050936Z [info     ] Getting auth instance: None    [langgraph_api.auth.custom] api_variant=local_dev langgraph_auth=None thread_name=MainThread
2025-04-15T15:31:28.051673Z [info     ] POST /assistants/search 200 2ms [langgraph_api.server] api_variant=local_dev latency_ms=2 method=POST path=/assistants/search path_params={} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'content-length': '25', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '265', 'content-type': 'application/json'} route=/assistants/search status=200 thread_name=MainThread
2025-04-15T15:31:28.143996Z [info     ] GET /assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/schemas 200 61ms [langgraph_api.server] api_variant=local_dev latency_ms=61 method=GET path=/assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/schemas path_params={'assistant_id': 'fe096781-5601-53d2-b2f6-0d3403f7e9ca'} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '56918', 'content-type': 'application/json'} route=/assistants/{assistant_id}/schemas status=200 thread_name=MainThread
2025-04-15T15:31:28.146822Z [info     ] POST /threads/search 200 64ms  [langgraph_api.server] api_variant=local_dev latency_ms=64 method=POST path=/threads/search path_params={} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'content-length': '39', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '4197', 'content-type': 'application/json'} route=/threads/search status=200 thread_name=MainThread
2025-04-15T15:31:28.147961Z [info     ] GET /assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/subgraphs 200 1ms [langgraph_api.server] api_variant=local_dev latency_ms=1 method=GET path=/assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/subgraphs path_params={'assistant_id': 'fe096781-5601-53d2-b2f6-0d3403f7e9ca'} proto=1.1 query_string='recurse=true' req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '2', 'content-type': 'application/json'} route=/assistants/{assistant_id}/subgraphs status=200 thread_name=MainThread
2025-04-15T15:31:28.148378Z [info     ] GET /assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/graph 200 1ms [langgraph_api.server] api_variant=local_dev latency_ms=1 method=GET path=/assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/graph path_params={'assistant_id': 'fe096781-5601-53d2-b2f6-0d3403f7e9ca'} proto=1.1 query_string='xray=true' req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '599', 'content-type': 'application/json'} route=/assistants/{assistant_id}/graph status=200 thread_name=MainThread
2025-04-15T15:31:42.781472Z [info     ] POST /threads 200 2ms          [langgraph_api.server] api_variant=local_dev latency_ms=2 method=POST path=/threads path_params={} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'content-length': '15', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '204', 'content-type': 'application/json'} route=/threads status=200 thread_name=MainThread
2025-04-15T15:31:42.803498Z [info     ] Created run                    [langgraph_runtime_inmem.ops] after_seconds=0 api_variant=local_dev assistant_id=fe096781-5601-53d2-b2f6-0d3403f7e9ca if_not_exists=reject multitask_strategy=rollback run_id=1f01a0eb-b9dc-6440-aade-451f5ddd9433 stream_mode=['debug', 'messages'] temporary=False thread_id=3ea95706-570b-4a64-9957-bf5d3e42d1f3 thread_name=MainThread
2025-04-15T15:31:42.812524Z [info     ] GET /threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3 200 2ms [langgraph_api.server] api_variant=local_dev latency_ms=2 method=GET path=/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3 path_params={'thread_id': '3ea95706-570b-4a64-9957-bf5d3e42d1f3'} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '806', 'content-type': 'application/json'} route=/threads/{thread_id} status=200 thread_name=MainThread
2025-04-15T15:31:42.817040Z [info     ] GET /threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs 200 2ms [langgraph_api.server] api_variant=local_dev latency_ms=2 method=GET path=/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs path_params={'thread_id': '3ea95706-570b-4a64-9957-bf5d3e42d1f3'} proto=1.1 query_string='limit=1000&offset=0&status=pending' req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '1551', 'content-type': 'application/json'} route=/threads/{thread_id}/runs status=200 thread_name=MainThread
2025-04-15T15:31:42.820766Z [info     ] GET /threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs 200 1ms [langgraph_api.server] api_variant=local_dev latency_ms=1 method=GET path=/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs path_params={'thread_id': '3ea95706-570b-4a64-9957-bf5d3e42d1f3'} proto=1.1 query_string='limit=1000&offset=0&status=pending' req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '1551', 'content-type': 'application/json'} route=/threads/{thread_id}/runs status=200 thread_name=MainThread
2025-04-15T15:31:42.821667Z [info     ] POST /threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/history 200 7ms [langgraph_api.server] api_variant=local_dev latency_ms=7 method=POST path=/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/history path_params={'thread_id': '3ea95706-570b-4a64-9957-bf5d3e42d1f3'} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'content-length': '14', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '2', 'content-type': 'application/json'} route=/threads/{thread_id}/history status=200 thread_name=MainThread
2025-04-15T15:31:42.822201Z [info     ] POST /threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/history 200 6ms [langgraph_api.server] api_variant=local_dev latency_ms=6 method=POST path=/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/history path_params={'thread_id': '3ea95706-570b-4a64-9957-bf5d3e42d1f3'} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'content-length': '14', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '2', 'content-type': 'application/json'} route=/threads/{thread_id}/history status=200 thread_name=MainThread
2025-04-15T15:31:43.571674Z [info     ] Starting background run        [langgraph_api.worker] api_variant=local_dev run_attempt=1 run_created_at=2025-04-15T15:31:42.803380+00:00 run_id=1f01a0eb-b9dc-6440-aade-451f5ddd9433 run_queue_ms=767 run_started_at=2025-04-15T15:31:43.571060+00:00 thread_name=asyncio_0
2025-04-15T15:31:43.741092Z [info     ] GET /assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/schemas 200 32ms [langgraph_api.server] api_variant=local_dev latency_ms=32 method=GET path=/assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/schemas path_params={'assistant_id': 'fe096781-5601-53d2-b2f6-0d3403f7e9ca'} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '56918', 'content-type': 'application/json'} route=/assistants/{assistant_id}/schemas status=200 thread_name=MainThread
2025-04-15T15:31:43.741344Z [info     ] GET /assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/graph 200 32ms [langgraph_api.server] api_variant=local_dev latency_ms=32 method=GET path=/assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/graph path_params={'assistant_id': 'fe096781-5601-53d2-b2f6-0d3403f7e9ca'} proto=1.1 query_string='xray=true' req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '599', 'content-type': 'application/json'} route=/assistants/{assistant_id}/graph status=200 thread_name=MainThread
2025-04-15T15:31:43.742513Z [info     ] GET /assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/subgraphs 200 33ms [langgraph_api.server] api_variant=local_dev latency_ms=33 method=GET path=/assistants/fe096781-5601-53d2-b2f6-0d3403f7e9ca/subgraphs path_params={'assistant_id': 'fe096781-5601-53d2-b2f6-0d3403f7e9ca'} proto=1.1 query_string='recurse=true' req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'content-length': '2', 'content-type': 'application/json'} route=/assistants/{assistant_id}/subgraphs status=200 thread_name=MainThread
2025-04-15T15:31:44.444336Z [info     ] HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK" [httpx] api_variant=local_dev thread_name=MainThread
2025-04-15T15:31:44.553853Z [error    ] Background run failed. Exception: "Could not resolve authentication method. Expected either api_key or auth_token to be set. Or for one of the `X-Api-Key` or `Authorization` headers to be explicitly omitted" [langgraph_api.worker] api_variant=local_dev graph_id=agent run_attempt=1 run_created_at=2025-04-15T15:31:42.803380+00:00 run_ended_at=2025-04-15T15:31:44.553794+00:00 run_exec_ms=982 run_id=1f01a0eb-b9dc-6440-aade-451f5ddd9433 run_started_at=2025-04-15T15:31:43.571060+00:00 thread_name=asyncio_0
Traceback (most recent call last):
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph_api/worker.py", line 144, in worker
    await asyncio.wait_for(consume(stream, run_id), BG_JOB_TIMEOUT_SECS)
  File "/Users/mfilipav/.pyenv/versions/3.11.2/lib/python3.11/asyncio/tasks.py", line 479, in wait_for
    return fut.result()
           ^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph_api/stream.py", line 269, in consume
    raise e from g
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph_api/stream.py", line 258, in consume
    async for mode, payload in stream:
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph_api/stream.py", line 209, in astream_state
    event = await wait_if_not_done(anext(stream, sentinel), done)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph_api/asyncio.py", line 82, in wait_if_not_done
    raise e.exceptions[0] from None
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 2274, in astream
    async for _ in runner.atick(
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph/pregel/runner.py", line 527, in atick
    _panic_or_proceed(
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph/pregel/runner.py", line 619, in _panic_or_proceed
    raise exc
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph/pregel/retry.py", line 128, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 583, in ainvoke
    input = await step.ainvoke(input, config, **kwargs)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 371, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/example-app/./src/memory_agent/graph.py", line 49, in call_model
    msg = await llm.bind_tools([tools.upsert_memory]).ainvoke(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain/chat_models/base.py", line 690, in ainvoke
    return await self._model(config).ainvoke(input, config=config, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain_core/runnables/base.py", line 5453, in ainvoke
    return await self.bound.ainvoke(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain_core/language_models/chat_models.py", line 353, in ainvoke
    llm_result = await self.agenerate_prompt(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain_core/language_models/chat_models.py", line 905, in agenerate_prompt
    return await self.agenerate(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain_core/language_models/chat_models.py", line 863, in agenerate
    raise exceptions[0]
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain_core/language_models/chat_models.py", line 1021, in _agenerate_with_cache
    async for chunk in self._astream(messages, stop=stop, **kwargs):
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/langchain_anthropic/chat_models.py", line 1026, in _astream
    stream = await self._async_client.messages.create(**payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/resources/messages/messages.py", line 2165, in create
    return await self._post(
           ^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/_base_client.py", line 1920, in post
    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/_base_client.py", line 1614, in request
    return await self._request(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/_base_client.py", line 1645, in _request
    request = self._build_request(options, retries_taken=retries_taken)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/_base_client.py", line 487, in _build_request
    headers = self._build_headers(options, retries_taken=retries_taken)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/_base_client.py", line 428, in _build_headers
    self._validate_headers(headers_dict, custom_headers)
  File "/Users/mfilipav/dev/langgraph/venv/lib/python3.11/site-packages/anthropic/_client.py", line 406, in _validate_headers
    raise TypeError(
TypeError: "Could not resolve authentication method. Expected either api_key or auth_token to be set. Or for one of the `X-Api-Key` or `Authorization` headers to be explicitly omitted"
During task with name 'call_model' and id '1efdb371-37f7-a3d7-ff2e-d09cb3db9b47'
2025-04-15T15:31:44.559140Z [info     ] POST /threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs/stream 200 1757ms [langgraph_api.server] api_variant=local_dev latency_ms=1757 method=POST path=/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs/stream path_params={'thread_id': '3ea95706-570b-4a64-9957-bf5d3e42d1f3'} proto=1.1 query_string= req_header={'host': '127.0.0.1:2024', 'connection': 'keep-alive', 'content-length': '627', 'x-auth-scheme': 'langsmith', 'sec-ch-ua-platform': '"macOS"', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'dnt': '1', 'content-type': 'application/json', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'origin': 'https://smith.langchain.com', 'sec-fetch-site': 'cross-site', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,de;q=0.8'} res_header={'location': '/threads/3ea95706-570b-4a64-9957-bf5d3e42d1f3/runs/1f01a0eb-b9dc-6440-aade-451f5ddd9433/stream', 'cache-control': 'no-store', 'connection': 'keep-alive', 'x-accel-buffering': 'no', 'content-type': 'text/event-stream; charset=utf-8'} route=/threads/{thread_id}/runs/stream status=200 thread_name=MainThread